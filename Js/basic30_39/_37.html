<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <pre>
        새 학기를 맞아 호준이네 반은 
        반장 선거를 하기로 했습니다.  
        그런데 표를 하나씩 개표하는 
        과정이 너무 번거롭게 느껴진 당신은 
        학생들이 뽑은 후보들을 입력받으면 
        뽑힌 학생의 이름과 받은 표 수를 
        출력하는 프로그램을 작성하기로 하였습니다.

        입력
        원범 원범 혜원 혜원 혜원 혜원 유진 유진
        
        출력
        혜원(이)가 총 4표로 반장이 되었습니다.        
    </pre>
    <script>
      // 1. 배열로 데이터를 만듬
      //   const array = [
      //     "원범",
      //     "혜원",
      //     "혜원",
      //     "유진",
      //   ];

      const array = prompt("투표자 입력").split(" ");
      // 2. 표수를 확인할 수 있도록 -> 객체가 알맞은거 같음
      //{원범: 1, 혜원: 5} ...
      let result = {}; // 객체를 만듬.
      let winner = ""; // 투표자

      for (let index in array) {
        // for in문 : 몇개인지 알려줌
        let val = array[index];

        result[val] = result[val] === undefined ? 1 : result[val] + 1;
        // 오브젝트 result에 원범이가 undefind이면 1해주고 아니면 +1해라 (투표의 increment)
        // e.g result[val]  -> {원범 : undefind}
        console.log(result);
      }

      // Object.keys() : 매개변수로 들어가는 객체에 "키값"만 배열로 반환!
      winner = Object.keys(result).reduce(function (a, b) {
        // reduce() : 배열의 메소드, 매개변수로 함수를 하나 가짐
        // 두개의 매개변수를 가짐, 원소를 순회하며 대입하여 함수를 실행함 -> 여기서 비교하면 되겠네
        console.log(a, b);
        return result[a] > result[b] ? a : b;
      });
      console.log(Object.keys(result));
      console.log(winner);

      console.log(
        `${winner}(이)가 총 ${result[winner]}표로 반장이 되었습니다.`
      );

      //   * 여기서 나오는 내용
      //   1. for in
      //   2. 삼항연산
      //   3. Object.keys
      //   4. reduce()
      //   5. `${ } `
    </script>
  </body>
</html>
